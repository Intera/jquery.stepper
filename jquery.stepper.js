jQuery.fn.stepper=function(t){function e(t,e){return $.isFunction(t)?t(e):"string"==typeof t?$(t):t}var n={stepConfig:{},animation:"fadeIn",onStepChange:function(t,e,n,i){return!0},onAfterStepChange:function(t,e,n,i){},forwardButton:function(t){return t.find(".nextStep")},backButton:function(t){return t.find(".prevStep")},autoHideBackForward:!0},t=$.extend(n,t),i={activeStepNumber:1,stepConfig:t.stepConfig,container:this,onStepChange:t.onStepChange,onAfterStepChange:t.onAfterStepChange,defaultAnimation:t.animation,animationSpeed:t.animationSpeed||190,numberOfSteps:0,get:function(t){return this.stepConfig&&this.stepConfig[t]?this.stepConfig[t]:this.container.find(".step"+t)},nextStep:function(){this.showStep(this.activeStepNumber+1)},prevStep:function(){this.showStep(this.activeStepNumber-1)},disableButtonEvents:function(n){e(t.forwardButton,n).add(e(t.backButton,n)).off("click.stepper")},enableButtonEvents:function(){this.setButtonEvents(this.get(this.activeStepNumber))},setButtonEvents:function(n){return e(t.forwardButton,n).off("click.stepper").on("click.stepper",function(t){return i.nextStep(),!1}),e(t.backButton,n).off("click.stepper").on("click.stepper",function(t){return i.prevStep(),!1}),n},hideAll:function(){if(this.stepConfig){var t=this.stepConfig;for(var e in t)t.hasOwnProperty(e)&&t[e].hide()}return this.container.find(".step").hide(),this},init:function(){for(step in this.stepConfig)this.stepConfig.hasOwnProperty(step)&&(this.numberOfSteps+=1);return this.numberOfSteps+=this.container.find(".step").length,this.hideAll(),this},showStep:function(n,o){function s(){o||t.onAfterStepChange(h,n,i,r)}var r=this.get(n);if(o||this.onStepChange(this.activeStepNumber,n,this,r)){this.hideAll(),t.autoHideBackForward&&(2>n?(e(t.backButton,r).hide(),e(t.forwardButton,r).show()):n>=this.numberOfSteps&&(e(t.forwardButton,r).hide(),e(t.backButton,r).show()));var r=this.setButtonEvents(r),a=r,h=i.activeStepNumber;if(this.defaultAnimation){var p=this.defaultAnimation;"fadeIn"==p?a.fadeIn(this.animationSpeed,s):"slideDown"==p?a.slideDown(this.animationSpeed,s):"slideUp"==p?a.slideUp(this.animationSpeed,s):a.show(this.animationSpeed,s)}else a.show(this.animationSpeed,s);this.activeStepNumber=n}return this},showFirstStepThatContains:function(t){for(var e=1;e<=this.numberOfSteps;){var n=this.get(e);if(n.length&&n.find(t).length){this.showStep(e);break}e++}return this}};return i.init()};
